!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).adhan={})}(this,(function(t){"use strict";var e=function(){function t(t,e){this.latitude=t,this.longitude=e}return t.prototype.getQibla=function(){var t=this.latitude*Math.PI/180,e=39.8230555556*Math.PI/180,n=this.longitude*Math.PI/180,a=21.4361111111*Math.PI/180,i=Math.sin(a-n),r=Math.cos(t)*Math.tan(e)-Math.sin(t)*Math.cos(a-n);return Math.atan2(i,r)*(180/Math.PI)},t}(),n=function(){function t(t,e,n,a,i,r){this.year=t,this.month=e,this.day=n,this.hours=a,this.minutes=i,this.seconds=r}return t.prototype.getTime=function(){return new Date(this.year,this.month-1,this.day,this.hours,this.minutes,this.seconds).getTime()},t.prototype.getDate=function(){return new Date(this.getTime())},t.prototype.setHours=function(t){this.hours=t},t.prototype.setMinutes=function(t){this.minutes=t},t.prototype.setSeconds=function(t){this.seconds=t},t.prototype.dayOfWeek=function(){return new Date(this.year,this.month-1,this.day).getDay()},t.prototype.valueOf=function(){return this.getTime()},t}(),a=function(){function t(t,e,a){this.latitude=t.latitude,this.longitude=t.longitude,this.timezone=e,this.date=new n(a.getFullYear(),a.getMonth()+1,a.getDate(),0,0,0),this.date.setHours(a.getHours()),this.date.setMinutes(a.getMinutes()),this.date.setSeconds(a.getSeconds())}return t.prototype.timeForShadowLength=function(t){var e=this.sunPosition(this.date.getDate()),n=Math.atan(1/(t+Math.tan(e.altitude)));return this.dateWithHourAngle(n)},t.prototype.sunPosition=function(t){var e=this.julianDate(t),n=this.sunDeclination(e),a=this.equationOfTime(e),i=60*(this.date.hours+this.date.minutes/60-this.timezone-12)+this.longitude*4,r=i/4*Math.PI/180,o=Math.asin(Math.sin(this.latitude*Math.PI/180)*Math.sin(n)+Math.cos(this.latitude*Math.PI/180)*Math.cos(n)*Math.cos(r));return{declination:n,equation:a,altitude:o}},t.prototype.dateWithHourAngle=function(t){var e=this.sunPosition(this.date.getDate()),n=t,a=Math.acos((Math.sin(e.declination)*Math.cos(this.latitude*Math.PI/180)-Math.cos(e.declination)*Math.sin(this.latitude*Math.PI/180)*Math.cos(n))/(Math.cos(e.declination)*Math.cos(this.latitude*Math.PI/180)));Math.sin(n)>0&&(a=2*Math.PI-a);var i=a*180/Math.PI/15,r=720-4*(this.longitude+i*15)-e.equation,o=r/60,s=Math.floor(o),u=60*(o-s),h=Math.floor(u),c=60*(u-h),l=Math.floor(c);return new n(this.date.year,this.date.month,this.date.day,s,h,l)},t.prototype.julianDate=function(t){var e=t.getTime();return e/864e5+2440587.5},t.prototype.sunDeclination=function(t){var e=2*Math.PI/365.25*(t-2451545),n=e+.0334*Math.sin(e)+.0003*Math.sin(2*e),a=.4091*Math.sin(n);return a},t.prototype.equationOfTime=function(t){var e=2*Math.PI/365.25*(t-2451545),n=e+.0334*Math.sin(e)+.0003*Math.sin(2*e),a=n+Math.PI,i=Math.cos(a)-.0069*Math.sin(2*n),r=2*Math.atan2(Math.sqrt((1+i)/(1-i)),1),o=r-2*Math.PI*Math.floor(r/(2*Math.PI)),s=o-n,u=4*s*180/Math.PI;return u},t}(),i=function(){function t(t,e,n,a,i,r,o,s,u,h,c,l){this.fajr=t,this.sunrise=e,this.dhuhr=n,this.asr=a,this.maghrib=i,this.isha=r,this.midnight=o,this.fajrTomorrow=s,this.sunriseTomorrow=u,this.dhuhrTomorrow=h,this.asrTomorrow=c,this.maghribTomorrow=l}return t.prototype.timeForPrayer=function(t){switch(t){case"fajr":return this.fajr;case"sunrise":return this.sunrise;case"dhuhr":return this.dhuhr;case"asr":return this.asr;case"maghrib":return this.maghrib;case"isha":return this.isha;case"midnight":return this.midnight;default:return null}},t.prototype.currentPrayer=function(t){if(t<this.fajr)return"none";if(t<this.sunrise)return"fajr";if(t<this.dhuhr)return"sunrise";if(t<this.asr)return"dhuhr";if(t<this.maghrib)return"asr";if(t<this.isha)return"maghrib";if(t<=this.midnight)return"isha";return"none"},t.prototype.nextPrayer=function(t){if(t<this.fajr)return"fajr";if(t<this.sunrise)return"sunrise";if(t<this.dhuhr)return"dhuhr";if(t<this.asr)return"asr";if(t<this.maghrib)return"maghrib";if(t<this.isha)return"isha";if(t<=this.midnight)return"none";return"fajr"},t}(),r=function(){function t(t,e,n,a,i,r,o){this.fajrAngle=t,this.ishaAngle=e,this.ishaInterval=n,this.maghribAngle=a,this.maghribInterval=i,this.method="Custom",this.methodAdjustments={fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0},this.highLatitudeRule=o||"recommended"}return t.prototype.nightPortions=function(){switch(this.highLatitudeRule){case"middle-of-the-night":return{fajr:.5,isha:.5};case"seventh-of-the-night":return{fajr:.14286,isha:.14286};case"twilight-angle":return{fajr:this.fajrAngle/60,isha:this.ishaAngle/60};default:return{fajr:.5,isha:.5}}},t.prototype.adjustments=function(t){return this.methodAdjustments[t]||0},t.prototype.adjustedTime=function(t,e){return t+this.adjustments(e)/60},t.MuslimWorldLeague=function(){var e=new t(18,17,0,0,0);return e.method="MuslimWorldLeague",e.methodAdjustments={fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0},e},t.Egyptian=function(){var e=new t(19.5,17.5,0,0,0);return e.method="Egyptian",e.methodAdjustments={fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0},e},t.Karachi=function(){var e=new t(18,18,0,0,0);return e.method="Karachi",e.methodAdjustments={fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0},e},t.UmmAlQura=function(){var e=new t(18.5,0,90,0,0);return e.method="UmmAlQura",e.methodAdjustments={fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0},e},t.Dubai=function(){var e=new t(18.2,18.2,0,0,0);return e.method="Dubai",e.methodAdjustments={fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0},e},t.Qatar=function(){var e=new t(18,0,90,0,0);return e.method="Qatar",e.methodAdjustments={fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0},e},t.Kuwait=function(){var e=new t(18,17.5,0,0,0);return e.method="Kuwait",e.methodAdjustments={fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0},e},t.MoonsightingCommittee=function(){var e=new t(18,18,0,0,0);return e.method="MoonsightingCommittee",e.methodAdjustments={fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0},e},t.Singapore=function(){var e=new t(20,18,0,0,0);return e.method="Singapore",e.methodAdjustments={fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0},e},t.NorthAmerica=function(){var e=new t(15,15,0,0,0);return e.method="NorthAmerica",e.methodAdjustments={fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0},e},t.Other=function(){var e=new t(0,0,0,0,0);return e.method="Other",e.methodAdjustments={fajr:0,sunrise:0,dhuhr:0,asr:0,maghrib:0,isha:0},e},t}(),o=function(){function t(t){this.shadowLength=t}return t.Shafi=function(){return new t(1)},t.Hanafi=function(){return new t(2)},t}(),s=function(){function t(t,e,n,r,o){this.coordinates=t,this.date=e,this.calculationParameters=n;var s=new a(t,o,e),u=s.dateWithHourAngle(0),h=s.timeForShadowLength(r.shadowLength),c=this.seasonAdjustedMorningTwilight(t.latitude,this.dayOfYear(e),e.getFullYear(),n.fajrAngle),l=this.seasonAdjustedEveningTwilight(t.latitude,this.dayOfYear(e),e.getFullYear(),n.ishaAngle),d=s.dateWithHourAngle(c),f=s.dateWithHourAngle(l),m=s.dateWithHourAngle(n.maghribAngle),g=new Date(e);g.setDate(e.getDate()+1);var p=new a(t,o,g),M=p.dateWithHourAngle(0),v=p.timeForShadowLength(r.shadowLength),y=this.seasonAdjustedMorningTwilight(t.latitude,this.dayOfYear(g),g.getFullYear(),n.fajrAngle),T=this.seasonAdjustedEveningTwilight(t.latitude,this.dayOfYear(g),g.getFullYear(),n.ishaAngle),b=p.dateWithHourAngle(y),D=p.dateWithHourAngle(T),j=p.dateWithHourAngle(n.maghribAngle);if(isNaN(d.getTime())||isNaN(f.getTime())){var w=this.polarCircleResolvedValues(t.latitude,n);d=s.dateWithHourAngle(w.fajr),f=s.dateWithHourAngle(w.isha)}if(isNaN(b.getTime())||isNaN(D.getTime())){var w=this.polarCircleResolvedValues(t.latitude,n);b=p.dateWithHourAngle(w.fajr),D=p.dateWithHourAngle(w.isha)}var A=new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes()+n.adjustments("dhuhr"),0),P=new Date(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes()+n.adjustments("asr"),0),S=new Date(d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes()+n.adjustments("fajr"),0),x=new Date(u.getFullYear(),u.getMonth(),u.getDate(),u.getHours(),u.getMinutes()+n.adjustments("sunrise"),0);n.ishaInterval>0?f=new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes()+n.ishaInterval,0):f=new Date(f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes()+n.adjustments("isha"),0),n.maghribInterval>0?m=new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes()+n.maghribInterval,0):m=new Date(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes()+n.adjustments("maghrib"),0);var Y=new Date(M.getFullYear(),M.getMonth(),M.getDate(),M.getHours(),M.getMinutes()+n.adjustments("dhuhr"),0),k=new Date(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours(),v.getMinutes()+n.adjustments("asr"),0),I=new Date(b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes()+n.adjustments("fajr"),0),O=new Date(M.getFullYear(),M.getMonth(),M.getDate(),M.getHours(),M.getMinutes()+n.adjustments("sunrise"),0);n.ishaInterval>0?D=new Date(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes()+n.ishaInterval,0):D=new Date(D.getFullYear(),D.getMonth(),D.getDate(),D.getHours(),D.getMinutes()+n.adjustments("isha"),0),n.maghribInterval>0?j=new Date(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes()+n.maghribInterval,0):j=new Date(j.getFullYear(),j.getMonth(),j.getDate(),j.getHours(),j.getMinutes()+n.adjustments("maghrib"),0);var C=this.dateByAddingMinutes(S,this.nightPortion(S,x,n.nightPortions().fajr)),H=this.dateByAddingMinutes(f,this.nightPortion(m,f,n.nightPortions().isha));this.prayerTimes=new i(S,x,A,P,m,f,C,I,O,Y,k,j),this.sunriseDate=x,this.asrDate=P,this.maghribDate=m,this.ishaDate=f,this.fajrDate=S,this.dhuhrDate=A,this.midnightDate=C,this.fajrTomorrowDate=I,this.sunriseTomorrowDate=O,this.dhuhrTomorrowDate=Y,this.asrTomorrowDate=k,this.maghribTomorrowDate=j,this.ishaTomorrowDate=H}return t.prototype.timeForPrayer=function(t){return this.prayerTimes.timeForPrayer(t)},t.prototype.currentPrayer=function(t){return void 0===t&&(t=new Date),this.prayerTimes.currentPrayer(t)},t.prototype.nextPrayer=function(t){return void 0===t&&(t=new Date),this.prayerTimes.nextPrayer(t)},t.prototype.currentPrayerByISODate=function(t){return this.currentPrayer(new Date(t))},t.prototype.nextPrayerByISODate=function(t){return this.nextPrayer(new Date(t))},t.prototype.dayOfYear=function(t){return Math.floor((t-new Date(t.getFullYear(),0,0))/864e5)},t.prototype.dateByAddingDays=function(t,e){var n=new Date(t);return n.setDate(t.getDate()+e),n},t.prototype.dateByAddingMinutes=function(t,e){var n=new Date(t);return n.setMinutes(t.getMinutes()+e),n},t.prototype.seasonAdjustedMorningTwilight=function(t,e,n,a){var i=0,r=Math.abs(t),o=0;r<=5?o=0:r>5&&r<=6?(i=2451545-9999+e,o=a+((6-r)/60)*Math.min(0,i-2456575)/365*2.5):r>6&&r<=7?(i=2451545-9999+e,o=a+((7-r)/60)*Math.min(0,i-2456575)/365*2.5):r>7&&r<=8?(i=2451545-9999+e,o=a+((8-r)/60)*Math.min(0,i-2456575)/365*2.5):r>8&&r<=9?(i=2451545-9999+e,o=a+((9-r)/60)*Math.min(0,i-2456575)/365*2.5):o=a;var s=.033*Math.sin(2*Math.PI*(e-2451545+.0009)/365.25)+.017*Math.sin(2*Math.PI*(e-2451545+.1337)/365.25)+(.033*Math.sin(2*Math.PI*(e-2451545+.2585)/365.25)+.017*Math.sin(2*Math.PI*(e-2451545+.4208)/365.25))*Math.pow(Math.cos(t*Math.PI/180),2);return-(o+s)},t.prototype.seasonAdjustedEveningTwilight=function(t,e,n,a){var i=0,r=Math.abs(t),o=0;r<=5?o=0:r>5&&r<=6?(i=2451545-9999+e,o=a+((6-r)/60)*Math.min(0,i-2453759)/365*1.25):r>6&&r<=7?(i=2451545-9999+e,o=a+((7-r)/60)*Math.min(0,i-2453759)/365*1.25):r>7&&r<=8?(i=2451545-9999+e,o=a+((8-r)/60)*Math.min(0,i-2453759)/365*1.25):r>8&&r<=9?(i=2451545-9999+e,o=a+((9-r)/60)*Math.min(0,i-2453759)/365*1.25):o=a;var s=.033*Math.sin(2*Math.PI*(e-2451545+.0009)/365.25)+.017*Math.sin(2*Math.PI*(e-2451545+.1337)/365.25)+(.033*Math.sin(2*Math.PI*(e-2451545+.2585)/365.25)+.017*Math.sin(2*Math.PI*(e-2451545+.4208)/365.25))*Math.pow(Math.cos(t*Math.PI/180),2);return-(o+s)},t.prototype.polarCircleResolvedValues=function(t,e){var n=Math.abs(t),a=Math.abs(e.fajrAngle),i=Math.abs(e.ishaAngle),r=Math.abs(e.maghribAngle),o=e.ishaInterval>0,s=e.maghribInterval>0,u=0,h=0;if(n<60)return{fajr:-a,isha:-i};if(n<65){if(a=a+.5*(n-60),i=i+.5*(n-60),r=r+.5*(n-60),!o&&!s)return{fajr:-a,isha:-i}}else{var c=65+5/2,l=1/(c-n);if(a=a+l*(n-60),i=i+l*(n-60),r=r+l*(n-60),!o&&!s)return{fajr:-a,isha:-i}}return o&&(h=e.ishaInterval/60),s&&(u=e.maghribInterval/60),{fajr:-a,isha:-i}},t.prototype.nightPortion=function(t,e,n){var a=new Date(e.getTime()-t.getTime()),i=a.getTime()/1e3/60;return Math.round(i*n)},t}();t.Coordinates=e,t.DateComponents=n,t.HighLatitudeRule=Object.freeze({MiddleOfTheNight:"middle-of-the-night",SeventhOfTheNight:"seventh-of-the-night",TwilightAngle:"twilight-angle"}),t.Madhab=o,t.PolarCircleResolution=Object.freeze({AqrabBalad:"aqrab-balad",AqrabYaum:"aqrab-yaum"}),t.Prayer=Object.freeze({Fajr:"fajr",Sunrise:"sunrise",Dhuhr:"dhuhr",Asr:"asr",Maghrib:"maghrib",Isha:"isha",None:"none"}),t.PrayerTimes=s,t.CalculationMethod=r,t.SunnahTimes=function(t){var e=t.dateByAddingSeconds(t.maghribDate,72e3),n=t.dateByAddingSeconds(t.maghribDate,36e3);return{middleOfTheNight:e,lastThirdOfTheNight:n}},Object.defineProperty(t,"__esModule",{value:!0})}));